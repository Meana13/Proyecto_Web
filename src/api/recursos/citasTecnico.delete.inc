<?php

if (!isset($peticion)) {
    http_response_code(500);
    die();
}

require_once 'includes/connexion.php';
if (!isset($connexion)) die();


$id_cita=$peticion->parametrosQuery()['idCita'];

$sql="DELETE FROM `citas` WHERE `id_cita` = $id_cita";

// Para comprobar si se ha ejecutado correctamente la sentencia usamos try ... catch
try {
    mysqli_query($connexion, $sql);
    http_response_code(200);
} catch (Exception $exception) {
    http_response_code(500);
    // podemos usar mysqli_errno para concretar el c√≥digo de respuesta
    die(mysqli_errno($connexion));
}